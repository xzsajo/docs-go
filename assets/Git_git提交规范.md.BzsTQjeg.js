import{_ as s,c as a,a3 as t,o as n}from"./chunks/framework.CAwIQbWu.js";const g=JSON.parse('{"title":"Git æäº¤è§„èŒƒ","description":"","frontmatter":{},"headers":[],"relativePath":"Git/gitæäº¤è§„èŒƒ.md","filePath":"Git/gitæäº¤è§„èŒƒ.md","lastUpdated":1726294467000}'),l={name:"Git/gitæäº¤è§„èŒƒ.md"};function e(p,i,h,o,r,k){return n(),a("div",null,i[0]||(i[0]=[t(`<h1 id="git-æäº¤è§„èŒƒ" tabindex="-1">Git æäº¤è§„èŒƒ <a class="header-anchor" href="#git-æäº¤è§„èŒƒ" aria-label="Permalink to &quot;Git æäº¤è§„èŒƒ&quot;">â€‹</a></h1><p>çº¦å®šå¼æäº¤ï¼š<a href="https://www.conventionalcommits.org/zh-hans/v1.0.0/" target="_blank" rel="noreferrer">https://www.conventionalcommits.org/zh-hans/v1.0.0/</a></p><p>git commit æœ€ä½³å®è·µï¼Œcommitizen + husky + commitlint è§„èŒƒåŒ–æ ¡éªŒ</p><h2 id="husky" tabindex="-1">Husky <a class="header-anchor" href="#husky" aria-label="Permalink to &quot;Husky&quot;">â€‹</a></h2><p>Husky æ˜¯ç”¨äºç®¡ç† Git Hooks çš„å·¥å…·ï¼ŒGit Hooks æ˜¯ Git ä¸­çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå¯ä»¥åœ¨ Git çš„ç”Ÿå‘½å‘¨æœŸä¸­çš„æŸäº›é‡è¦äº‹ä»¶ï¼ˆå¦‚æäº¤ã€æ¨é€ç­‰ï¼‰è§¦å‘è‡ªå®šä¹‰è„šæœ¬</p><p>é’©å­</p><h2 id="lint-staged" tabindex="-1">lint-staged <a class="header-anchor" href="#lint-staged" aria-label="Permalink to &quot;lint-staged&quot;">â€‹</a></h2><p>é…åˆ Husky é’©å­ï¼Œæ ¼å¼åŒ–æ–‡ä»¶ä»£ç </p><p>git commit è§„èŒƒä¸»è¦å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜åœ¨ code reivew æœŸé—´æ›´å®¹æ˜“ç†è§£æäº¤çš„å†…å®¹ï¼Œç°åœ¨å¤§éƒ¨åˆ†ä¸»æµ commit éƒ½æ˜¯åŸºäº Angular å›¢é˜Ÿçš„è§„èŒƒè€Œè¡ç”Ÿå‡ºæ¥çš„ï¼Œå®ƒçš„ message æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;BLANK LINE&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;body&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;BLANK LINE&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;footer&gt;</span></span></code></pre></div><p>æ¯ä¸ªæäº¤æ¶ˆæ¯éƒ½åŒ…å«ä¸€ä¸ª<strong>subject</strong>ã€ä¸€ä¸ª<strong>body</strong>å’Œä¸€ä¸ª<strong>footer</strong> (ä¸­é—´ä½¿ç”¨ç©ºè¡Œåˆ†å‰²)ï¼Œæäº¤ä¿¡æ¯çš„ä»»ä½•ä¸€è¡Œä¸èƒ½è¶…è¿‡ 100 ä¸ªå­—ç¬¦ã€‚</p><p>ğŸ‘‰ typeä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</p><ul><li>featï¼šä¸€ä¸ªæ–°ç‰¹æ€§</li><li>fixï¼šä¿®å¤bug</li><li>docsï¼šæ–‡æ¡£ä¿®æ”¹</li><li>styleï¼šä¸å½±å“ä»£ç å«ä¹‰çš„æ›´æ”¹ï¼ˆç©ºæ ¼ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰ï¼‰</li><li>refactorï¼šä»£ç é‡æ„</li><li>perfï¼šæ–°èƒ½ä¼˜åŒ–</li><li>testï¼šæµ‹è¯•ç”¨ä¾‹ä¿®æ”¹</li><li>choreï¼šå¯¹æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å’Œåº“çš„æ›´æ”¹ï¼Œä¾‹å¦‚æ–‡æ¡£ç”Ÿæˆ</li></ul><p>ğŸ‘‰ scopeï¼šå¯ä»¥æ˜¯å½±å“èŒƒå›´çš„ä»»ä½•å†…å®¹ã€‚</p><p>ğŸ‘‰ subjectï¼šåŒ…å«å¯¹æ›´æ”¹çš„ç®€æ´æè¿°ï¼Œè§„åˆ™ï¼š</p><ul><li>ä½¿ç”¨é™ˆè¿°è¯­å¥</li><li>ç¬¬ä¸€ä¸ªå­—æ¯ä¸è¦å¤§å†™</li><li>æœ«å°¾æ²¡æœ‰ç‚¹ (.)</li></ul><p>ğŸ‘‰ bodyï¼šcommit å…·ä½“ä¿®æ”¹å†…å®¹, å¯ä»¥åˆ†ä¸ºå¤šè¡Œï¼Œåº”è¯¥åŒ…æ‹¬æ”¹å˜çš„åŠ¨æœºï¼Œå¹¶ä¸ä»¥å‰çš„è¡Œä¸ºè¿›è¡Œå¯¹æ¯”ã€‚</p><p>ğŸ‘‰ footer: ä¸€äº›å¤‡æ³¨, é€šå¸¸æ˜¯ä¿®å¤çš„ bug çš„é“¾æ¥ã€‚</p><p>æˆªå–ä¸€å¼ å¼€æºåº“çš„ commitï¼Œ<a href="https://github.com/nrwl/nx" target="_blank" rel="noreferrer">example</a>ï¼š</p><p><img src="https://s2.loli.net/2022/06/01/DAP7EKRrHpzmvMW.webp" alt="image.png"></p><p>ä¹Ÿå¯ä»¥çœ‹çœ‹ï¼š<a href="https://github.com/umijs/umi" target="_blank" rel="noreferrer">https://github.com/umijs/umi</a></p><p>æœ‰äº†è§„èŒƒåï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å·¥å…·å»çº¦æŸï¼š<a href="https://github.com/conventional-changelog/commitlint" target="_blank" rel="noreferrer">commitlint</a>ã€‚å®ƒè¦åšçš„å°±æ˜¯åœ¨æˆ‘ä»¬æ¯æ¬¡æäº¤ <code>git commit</code> çš„æ—¶å€™ï¼Œéƒ½ä¼šå¸®æˆ‘ä»¬æ£€æŸ¥ <code>commit message</code> æ˜¯å¦ç¬¦åˆä¸€å®šçš„è§„èŒƒï¼Œå¦‚æœä¸ç¬¦åˆï¼Œå°±è®©è¿™æ¬¡æäº¤å¤±è´¥ã€‚</p><p>å…·ä½“é…ç½®ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£… commitlint cli å’Œ conventional config</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @commitlint/{config-conventional,cli}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @commitlint/config-conventional</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @commitlint/cli</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">é…ç½®è¦ä½¿ç”¨çš„</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commitlint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> è§„åˆ™</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]}&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commitlint.config.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">åŠ å…¥åˆ°huskyä¸­ï¼š</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> husky</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .husky/commit-msg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;npx --no -- commitlint --edit &quot;$1&quot;&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> husky</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .husky/commit-msg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;yarn commitlint --edit $1&#39;</span></span></code></pre></div><p>æ›´å¤šè¯¦æƒ…è§å®˜ç½‘ï¼š<a href="https://github.com/conventional-changelog/commitlint" target="_blank" rel="noreferrer">https://github.com/conventional-changelog/commitlint</a></p><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1">å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2><ul><li><a href="https://jiongks.name/blog/git-commit/" target="_blank" rel="noreferrer">å¦‚ä½•æ’°å†™ Git æäº¤ä¿¡æ¯</a></li><li><a href="https://www.jianshu.com/p/c7e40dab5b05" target="_blank" rel="noreferrer">Git-Commit-Log è§„èŒƒï¼ˆAngular è§„èŒƒï¼‰</a></li><li><a href="https://www.npmjs.com/package/commitizen" target="_blank" rel="noreferrer">commitizen</a></li><li><a href="https://wutao.work/archives/10104.html" target="_blank" rel="noreferrer">git ä»£ç æäº¤è§„èŒƒ</a></li></ul>`,27)]))}const d=s(l,[["render",e]]);export{g as __pageData,d as default};
